<!DOCTYPE html>
<html lang="en-us">
<head>
    <base href="https://cdn.jsdelivr.net/gh/genizy/assets@main/death-run-3d/">
    <meta charset="utf-8" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <title>Death Run 3D</title>
    <link href="shared/style.css" rel="stylesheet" />
    <link rel="stylesheet" href="TemplateData56/style.css" />
    <script src="TemplateData56/UnityProgress.js"></script>
    <link rel="shortcut icon" href="TemplateData/favicon.ico" />
    <script src="Build/UnityLoader.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        html, body {
            width: 100%;
            height: 100%;
            overflow: hidden;
            background: #000;
        }
        .webgl-content {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        #gameContainer {
            width: 100% !important;
            height: 100% !important;
        }
        #gameContainer canvas {
            width: 100% !important;
            height: 100% !important;
            display: block;
        }
    </style>
    <script>
        if (window.parent !== window.self) window.parent.postMessage("bonk", "*");
        window.rWS = WebSocket;
        WebSocket = function (url, options) {
            var split = url.split("://");
            var prefix = "";
            switch (split[0].toLowerCase()) {
                case "ws":
                    prefix = "wss://onebigorange-tmm.tbt.mx/websocket/http://";
                    break;
                case "wss":
                    prefix = "wss://onebigorange-tmm.tbt.mx/websocket/https://";
                    break;
                default:
                    prefix = split[0];
            }
            return new (Function.prototype.bind.call(
                window.rWS,
                null,
                (split[1].match(/\//g) || []).length === 0 ? (split[1].includes("?") ? prefix + split[1].replace("?", "/?") : prefix + split[1] + "/") : prefix + split[1],
                options
            ))();
        };
        var origOpen = XMLHttpRequest.prototype.open;
        XMLHttpRequest.prototype.open = function (...args) {
            args[1] = /^http/.test(args[1]) ? "https://onebigstatic-tmm.tbt.mx/static/" + args[1] : args[1];
            origOpen.apply(this, args);
        };
        var gameInstance = UnityLoader.instantiate("gameContainer", "Build/death_run_wasm_v1.json", {
            onProgress: UnityProgress,
            Module: {
                onRuntimeInitialized: function () {
                    UnityProgress(gameInstance, "complete");
                },
            },
        });
    </script>
    <script src="shared/lib.js" type="text/javascript"></script>
    <script src="shared/gamebreak/gamebreak.js" type="text/javascript"></script>
</head>
<body>
    <div class="webgl-content">
        <div id="gameContainer"></div>
    </div>
</body>
</html>
