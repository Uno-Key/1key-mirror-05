(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{6922:function(e,t,o){Promise.resolve().then(o.bind(o,9487))},9487:function(e,t,o){"use strict";o.r(t),o.d(t,{default:function(){return F}});var n=o(7437),a=o(2265),i=o(6498),r=o(2079),l=o(1448),s=o(3946),d=o(9520),u=o(4364);let c=["midnight","cloud","matrix","ocean","ember","violet"],p={midnight:{sceneBg:"#020305",fog:"#020305",starFar:"#4f555f",starNear:"#dce4ee",ember:"#a6b1bf",keyLight:"#f2f6fb",fillLight:"#bcc8d8",rimLight:"#ffffff",diskDeep:"#05070b",diskMid:"#2b313a",diskGlow:"#d4dde8",leftPlanet:{color:"#1a1f27",emissive:"#0f1217",atmosphere:"#7d8796"},rightPlanet:{color:"#1d212a",emissive:"#10131a",atmosphere:"#939eae"},logoTint:"#f3f6fa",buttonBorder:"rgba(205, 216, 230, 0.74)",buttonText:"#f4f7fb",buttonBg:"rgba(8, 10, 14, 0.82)",buttonGlow:"rgba(171, 186, 206, 0.32)"},cloud:{sceneBg:"#dfe4ed",fog:"#dfe4ed",starFar:"#7d8898",starNear:"#d0d9ea",ember:"#c6cfde",keyLight:"#f4f7ff",fillLight:"#cad7f1",rimLight:"#f5f8ff",diskDeep:"#d4dae7",diskMid:"#8fa2be",diskGlow:"#f4f8ff",leftPlanet:{color:"#9eaec5",emissive:"#6f7f98",atmosphere:"#d9e1f1"},rightPlanet:{color:"#9da7b7",emissive:"#6f7888",atmosphere:"#e1e7f5"},logoTint:"#f7f9ff",buttonBorder:"rgba(122, 139, 169, 0.72)",buttonText:"#edf2ff",buttonBg:"rgba(42, 51, 68, 0.72)",buttonGlow:"rgba(146, 167, 206, 0.36)"},matrix:{sceneBg:"#041008",fog:"#041008",starFar:"#24683c",starNear:"#7edc90",ember:"#57b56f",keyLight:"#9cf3ad",fillLight:"#69c27d",rimLight:"#b8ffd3",diskDeep:"#06150a",diskMid:"#1e5a30",diskGlow:"#86df96",leftPlanet:{color:"#1f3725",emissive:"#112016",atmosphere:"#5a9f69"},rightPlanet:{color:"#223126",emissive:"#132118",atmosphere:"#77bb84"},logoTint:"#c8ffd1",buttonBorder:"rgba(129, 235, 148, 0.72)",buttonText:"#ceffd9",buttonBg:"rgba(8, 23, 11, 0.82)",buttonGlow:"rgba(102, 216, 124, 0.35)"},ocean:{sceneBg:"#041223",fog:"#041223",starFar:"#2d6d8f",starNear:"#89d4ff",ember:"#5bb8e8",keyLight:"#9ce6ff",fillLight:"#6ac8ef",rimLight:"#d0f4ff",diskDeep:"#041024",diskMid:"#155379",diskGlow:"#8fd9ff",leftPlanet:{color:"#1d3354",emissive:"#12243f",atmosphere:"#5ca3d8"},rightPlanet:{color:"#203047",emissive:"#142235",atmosphere:"#79bbe8"},logoTint:"#d9f2ff",buttonBorder:"rgba(134, 208, 255, 0.72)",buttonText:"#e4f7ff",buttonBg:"rgba(8, 22, 37, 0.8)",buttonGlow:"rgba(104, 179, 224, 0.35)"},ember:{sceneBg:"#170b05",fog:"#170b05",starFar:"#8f5631",starNear:"#f6c17e",ember:"#ff9d53",keyLight:"#ffd8a8",fillLight:"#ef9f5f",rimLight:"#ffe5bf",diskDeep:"#1a0d05",diskMid:"#8a3f1d",diskGlow:"#f6c07a",leftPlanet:{color:"#44251b",emissive:"#2a140d",atmosphere:"#cc7444"},rightPlanet:{color:"#4b2a1f",emissive:"#2f1810",atmosphere:"#e59a5e"},logoTint:"#ffe6c3",buttonBorder:"rgba(246, 173, 103, 0.75)",buttonText:"#fff0da",buttonBg:"rgba(33, 15, 7, 0.82)",buttonGlow:"rgba(241, 141, 66, 0.38)"},violet:{sceneBg:"#12071d",fog:"#12071d",starFar:"#70509d",starNear:"#d4b6ff",ember:"#b78cff",keyLight:"#d8b8ff",fillLight:"#af7dff",rimLight:"#eddcff",diskDeep:"#13081f",diskMid:"#5a2f8f",diskGlow:"#d4b4ff",leftPlanet:{color:"#33224f",emissive:"#1f1430",atmosphere:"#9e72d4"},rightPlanet:{color:"#3a2658",emissive:"#241739",atmosphere:"#ba8bea"},logoTint:"#f1e4ff",buttonBorder:"rgba(205, 164, 255, 0.75)",buttonText:"#f6edff",buttonBg:"rgba(26, 12, 41, 0.82)",buttonGlow:"rgba(171, 123, 237, 0.35)"}},f=e=>Math.max(0,Math.min(255,Math.round(e))),h=e=>{let t=e.match(/rgba?\(([^)]+)\)/i);if(!t)return null;let[o,n,a]=t[1].split(",").slice(0,3).map(e=>Number.parseFloat(e.trim()));return[o,n,a].every(e=>Number.isFinite(e))?{r:f(o),g:f(n),b:f(a)}:null},g=e=>"rgb(".concat(f(e.r),", ").concat(f(e.g),", ").concat(f(e.b),")"),w=(e,t)=>"rgba(".concat(f(e.r),", ").concat(f(e.g),", ").concat(f(e.b),", ").concat(t,")"),m=(e,t,o)=>({r:f(e.r+(t.r-e.r)*o),g:f(e.g+(t.g-e.g)*o),b:f(e.b+(t.b-e.b)*o)}),b=(e,t)=>({r:f(e.r*t),g:f(e.g*t),b:f(e.b*t)});function y(e){let t=p[e],o=getComputedStyle(document.documentElement),n=(e,t)=>{var n;return null!==(n=function(e){if("undefined"==typeof document||!e)return null;let t=document.createElement("span");t.style.position="absolute",t.style.opacity="0",t.style.pointerEvents="none",t.style.color=e,document.body.appendChild(t);let o=getComputedStyle(t).color;return document.body.removeChild(t),h(o)}(o.getPropertyValue(e).trim()))&&void 0!==n?n:function(e,t){let o=new r.Ilk;try{return o.set(e),{r:f(255*o.r),g:f(255*o.g),b:f(255*o.b)}}catch(e){return t}}(t,{r:255,g:255,b:255})},a=n("--background",t.sceneBg),i=n("--foreground",t.logoTint),l=n("--primary",t.keyLight),s=n("--accent",t.diskGlow),d=n("--card",t.diskMid),u=n("--border",t.starFar),c=n("--muted",t.diskDeep),y={r:4,g:4,b:6},v=m(a,y,.58),M=m(l,d,.38),x=m(s,i,.26),k=m(i,s,.18),P=m(l,c,.64);return{sceneBg:g(v),fog:g(m(v,y,.46)),starFar:g(P),starNear:g(k),ember:g(m(s,l,.52)),keyLight:g(m(i,l,.4)),fillLight:g(m(s,l,.42)),rimLight:g(m(i,s,.28)),diskDeep:g(m(v,y,.42)),diskMid:g(M),diskGlow:g(x),leftPlanet:{color:g(m(l,a,.66)),emissive:g(b(m(l,a,.72),.55)),atmosphere:g(m(s,i,.42))},rightPlanet:{color:g(m(s,a,.64)),emissive:g(b(m(s,a,.74),.52)),atmosphere:g(m(l,i,.5))},logoTint:g(m(i,s,.12)),buttonBorder:w(m(u,i,.35),.76),buttonText:g(m(i,s,.08)),buttonBg:w(m(a,y,.45),.84),buttonGlow:w(m(s,l,.5),.4)}}function v(){try{let e=localStorage.getItem("1key-settings");if(!e)return"midnight";let t=JSON.parse(e);if(t&&"string"==typeof t.colorTheme&&c.includes(t.colorTheme))return t.colorTheme}catch(e){}return"midnight"}function M(e,t,o,n,a){let i=new Float32Array(3*e);for(let o=0;o<e;o+=1){let e=3*o,n=t*Math.pow(Math.random(),.42),a=Math.random()*Math.PI*2,l=Math.acos(r.M8C.randFloatSpread(2));i[e]=n*Math.sin(l)*Math.cos(a),i[e+1]=n*Math.cos(l)*.72,i[e+2]=n*Math.sin(l)*Math.sin(a)}let l=new r.u9r;l.setAttribute("position",new r.TlE(i,3));let s=new r.UY4({color:new r.Ilk(o),size:n,transparent:!0,opacity:a,depthWrite:!1,blending:r.WMw,sizeAttenuation:!0});return new r.woe(l,s)}function x(e,t,o,n,a){let i=new r.ZAu,l=new r.Kj0(new r.xo$(e,40,40),new r.Wid({color:new r.Ilk(t),emissive:new r.Ilk(o),emissiveIntensity:.05,roughness:.88,metalness:.06})),s=new r.Kj0(new r.xo$(1.08*e,40,40),new r.vBJ({color:new r.Ilk(n),transparent:!0,opacity:a,depthWrite:!1,blending:r.WMw,side:r._Li}));return i.add(l,s),{group:i,planet:l}}function k(e,t,o,n,a,i){let l=new Float32Array(3*e);for(let i=0;i<e;i+=1){let e=3*i;l[e]=r.M8C.randFloatSpread(2*t),l[e+1]=r.M8C.randFloatSpread(2*o),l[e+2]=r.M8C.randFloat(a,n)}let s=new r.u9r;s.setAttribute("position",new r.TlE(l,3));let d=new r.UY4({color:new r.Ilk(i),size:.018,transparent:!0,opacity:0,depthWrite:!1,blending:r.WMw,sizeAttenuation:!0});return{points:new r.woe(s,d),positions:l,zNear:n,zFar:a,spreadX:t,spreadY:o}}function P(e){e.traverse(e=>{e.geometry&&e.geometry.dispose(),e.material&&function(e){if(Array.isArray(e)){for(let t of e)t.map&&t.map.dispose(),t.dispose();return}e.map&&e.map.dispose(),e.dispose()}(e.material)})}function C(e){let{onComplete:t,autoAdvance:o=!1,durationSec:c=5.9}=e,p=(0,a.useRef)(null),f=(0,a.useRef)(null),h=(0,a.useRef)(null),g=(0,a.useRef)(!1),[w,m]=(0,a.useState)(!1),[b,C]=(0,a.useState)(()=>y(v())),F=(0,a.useCallback)(()=>{C(y(v()))},[]),E=(0,a.useCallback)(()=>{g.current||(g.current=!0,null==t||t())},[t]);return(0,a.useEffect)(()=>{F();let e=window.requestAnimationFrame(F),t=window.setTimeout(F,80),o=new MutationObserver(()=>{F()});o.observe(document.documentElement,{attributes:!0,attributeFilter:["class","style"]});let n=()=>{F()};return window.addEventListener("storage",n),()=>{window.cancelAnimationFrame(e),window.clearTimeout(t),o.disconnect(),window.removeEventListener("storage",n)}},[F]),(0,a.useEffect)(()=>{let e;let t=p.current;if(!t)return;g.current=!1,m(!1);let n=v(),a=y(n);if(C(a),void 0===window.WebGLRenderingContext){console.warn("[Intro] WebGL is unavailable, falling back to enter button only."),m(!0);return}let f=Math.max(1,t.clientWidth||window.innerWidth||1),w=Math.max(1,t.clientHeight||window.innerHeight||1);try{e=new l.CP7({antialias:!0,alpha:!0,powerPreference:"high-performance"})}catch(e){console.error("[Intro] Renderer init failed:",e),m(!0);return}e.setPixelRatio(Math.min(window.devicePixelRatio,1.5)),e.setSize(f,w),e.outputColorSpace=r.KI_,e.toneMapping=r.LY2,e.toneMappingExposure=.74,t.appendChild(e.domElement);let b=new r.xsS;b.background=new r.Ilk(a.sceneBg),b.fog=new r.yo9(a.fog,.018);let F=new r.cPb(46,f/w,.1,220);F.position.set(0,.12,13.5),b.add(F);let G=new s.x(e);G.addPass(new d.C(b,F));let L=new u.m(new r.FM8(f,w),.34,.34,.42);G.addPass(L);let S=new r.vmT(a.keyLight,a.sceneBg,.62),T=new r.Ox3(a.keyLight,.9);T.position.set(4.2,5.8,6.4);let z=new r.cek(a.fillLight,.62,28,2);z.position.set(-3.8,1.6,3.9);let B=new r.cek(a.rimLight,.72,30,2);B.position.set(0,.7,-4.4),b.add(S,T,z,B);let I=M(12e3,140,a.starFar,.038,.45),O=M(4200,70,a.starNear,.048,0),_=M(1800,10,a.ember,.028,0);b.add(I,O,_);let D={uTime:{value:0},uPulse:{value:.14},uDeep:{value:new r.Ilk(a.diskDeep)},uMid:{value:new r.Ilk(a.diskMid)},uGlow:{value:new r.Ilk(a.diskGlow)}},A=new r.jyz({transparent:!0,depthWrite:!1,blending:r.bdR,uniforms:D,vertexShader:"\n  varying vec2 vUv;\n  void main() {\n    vUv = uv;\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  }\n",fragmentShader:"\n  uniform float uTime;\n  uniform float uPulse;\n  uniform vec3 uDeep;\n  uniform vec3 uMid;\n  uniform vec3 uGlow;\n  varying vec2 vUv;\n\n  void main() {\n    vec2 uv = vUv;\n    vec2 c = uv - 0.5;\n    float rot = uTime * 0.07;\n    float cs = cos(rot);\n    float sn = sin(rot);\n    c = mat2(cs, -sn, sn, cs) * c;\n    uv = c + 0.5;\n    float t = uTime * 0.16;\n\n    float layerA = sin((uv.x * 9.2) + (uv.y * 5.4) + t);\n    float layerB = sin((uv.x * 4.8) - (uv.y * 8.0) - (t * 1.4));\n    float layerC = sin((uv.x * 14.0) + (uv.y * 2.7) + (t * 0.8));\n    float field = (layerA * 0.45) + (layerB * 0.35) + (layerC * 0.2);\n\n    float bands = sin((uv.y * 18.0) + (t * 2.0) + (sin(uv.x * 11.0) * 1.4)) * 0.5 + 0.5;\n    float cloud = smoothstep(-0.65, 0.85, field);\n    float horizon = smoothstep(1.0, 0.12, uv.y);\n    float glow = cloud * horizon * (0.32 + (bands * 0.38));\n    glow *= 0.5 + (uPulse * 0.3);\n\n    vec3 color = mix(uDeep, uMid, cloud * 0.72);\n    color = mix(color, uGlow, glow * 0.5);\n\n    float alpha = (cloud * 0.2) + (glow * 0.34);\n    gl_FragColor = vec4(color, alpha);\n  }\n"}),N=new r.Kj0(new r._12(180,110),A);N.position.set(0,0,-72),b.add(N);let R=x(8.7,a.leftPlanet.color,a.leftPlanet.emissive,a.leftPlanet.atmosphere,.12);R.group.position.set(-30,16,-118),b.add(R.group);let W=x(5.1,a.rightPlanet.color,a.rightPlanet.emissive,a.rightPlanet.atmosphere,.11);W.group.position.set(24,-10,-90),b.add(W.group);let j=k(1600,28,16,-24,-170,a.starFar);b.add(j.points);let K=k(1100,16,9,-10,-95,a.starNear);K.points.material.size=.026,K.points.material.opacity=0,b.add(K.points);let U=function(e){let t=new r.ZAu,o=new r.EJi({color:new r.Ilk(e.logoTint),emissive:new r.Ilk(e.diskGlow),emissiveIntensity:.015,metalness:1,roughness:.16,clearcoat:.88,clearcoatRoughness:.1,transparent:!0,opacity:1}),n=new r.EJi({color:new r.Ilk(e.diskMid),emissive:new r.Ilk(e.diskDeep),emissiveIntensity:.08,metalness:.92,roughness:.22,transparent:!0,opacity:.22}),a=new r.EJi({color:new r.Ilk(e.starNear),emissive:new r.Ilk(e.diskMid),emissiveIntensity:.06,metalness:1,roughness:.22,transparent:!0,opacity:.88}),i=new r.Kj0(new r.xo$(.68,52,52),o);i.rotation.y=.25*Math.PI,i.rotation.x=.1*Math.PI;let l=new r.Kj0(new r.xo$(.9,40,40),n);t.add(i,l),t.position.set(0,-.02,0),t.scale.setScalar(.001);let s=new r.cek(e.fillLight,0,7,2);return s.position.set(0,0,0),t.add(s),{group:t,coreMesh:i,shellMesh:l,coreMaterial:o,shellMaterial:n,shardMaterial:a,shards:[],auraLight:s}}(a);b.add(U.group);let Y=function(e){let t=document.createElement("canvas");t.width=1536,t.height=576;let o=t.getContext("2d");if(!o)throw Error("Canvas 2D context unavailable");o.clearRect(0,0,t.width,t.height);let n=o.createLinearGradient(0,0,t.width,t.height);return n.addColorStop(0,e.logoTint),n.addColorStop(.55,e.diskGlow),n.addColorStop(1,e.diskMid),o.font="900 360px Orbitron, Geist, sans-serif",o.textAlign="center",o.textBaseline="middle",o.shadowColor=e.buttonGlow,o.shadowBlur=16,o.fillStyle=n,o.fillText("1KEY",.5*t.width,.56*t.height),t}(a),Z=function(e){let t=new r.ROQ(e);return t.colorSpace=r.KI_,t.minFilter=r.D1R,t.magFilter=r.wem,t.generateMipmaps=!0,t}(Y),J=new r.vBJ({map:Z,transparent:!0,opacity:0,depthWrite:!1,blending:r.bdR,color:new r.Ilk(a.logoTint)}),H=new r.Kj0(new r._12(9.2,3.35),J);H.position.set(0,-.1,.32),H.scale.setScalar(.14),H.visible=!1,b.add(H);let $=function(e,t,o){let n=t.getContext("2d");if(!n)throw Error("Canvas 2D context unavailable");let a=n.getImageData(0,0,t.width,t.height).data,i=new Float32Array(8400),l=new Float32Array(8400),s=new Float32Array(2800),d=new Float32Array(3*e),u=new Float32Array(3*e),c=(e,o)=>a[(o*t.width+e)*4+3];for(let o=0;o<e;o+=1){let e=3*o,n=Math.floor(Math.random()*t.width),a=Math.floor(Math.random()*t.height);for(let e=0;e<1200;e+=1){let e=Math.floor(Math.random()*t.width),o=Math.floor(Math.random()*t.height);if(c(e,o)>45){n=e,a=o;break}}let p=n/t.width-.5,f=a/t.height-.5;d[e]=8.9*p,d[e+1]=-(3.22*f),d[e+2]=r.M8C.randFloat(-.16,.16);let h=Math.random()*Math.PI*2,g=Math.acos(r.M8C.randFloatSpread(2)),w=r.M8C.randFloat(.52,.82);i[e]=w*Math.sin(g)*Math.cos(h),i[e+1]=w*Math.cos(g),i[e+2]=w*Math.sin(g)*Math.sin(h);let m=new r.Pa4(r.M8C.randFloatSpread(2),r.M8C.randFloatSpread(2),r.M8C.randFloatSpread(2)).normalize();l[e]=m.x,l[e+1]=m.y,l[e+2]=m.z,s[o]=r.M8C.randFloat(4.8,10.5),u[e]=i[e],u[e+1]=i[e+1],u[e+2]=i[e+2]}let p=new r.u9r;p.setAttribute("position",new r.TlE(u,3));let f=new r.UY4({color:new r.Ilk(o),size:.04,transparent:!0,opacity:0,depthWrite:!1,blending:r.WMw,sizeAttenuation:!0}),h=new r.woe(p,f);return h.position.set(0,-.1,.18),{points:h,starts:i,burstDir:l,burstMag:s,targets:d,positions:u}}(2800,Y,a.diskGlow);b.add($.points);let X={diskPulse:.14,nearStarOpacity:0,monolithGlow:0,explosion:0,flash:0,travel:0,logoProgress:0,logoParticleOpacity:0,logoPlaneOpacity:0},q=i.ZP.timeline({defaults:{ease:"power2.inOut"}});q.to(X,{nearStarOpacity:.52,diskPulse:.44,duration:1.1},0).to(_.material,{opacity:.16,duration:1,ease:"sine.inOut"},0).to(F.position,{x:.1,y:.08,duration:1.35,ease:"sine.inOut"},0).to(U.group.scale,{x:1.08,y:1.08,z:1.08,duration:1.4,ease:"expo.out"},.25).to(U.group.rotation,{y:1.1,x:-.08,duration:1.45,ease:"sine.out"},.35).to(X,{monolithGlow:.94,duration:1.2},.52).to(X,{monolithGlow:1.08,duration:.12,ease:"sine.inOut",yoyo:!0,repeat:1},1.56).to(U.group.position,{keyframes:[{x:-.05,y:-.016,duration:.045},{x:.06,y:-.025,duration:.045},{x:-.045,y:-.017,duration:.045},{x:.055,y:-.024,duration:.045},{x:0,y:-.02,duration:.055}],ease:"power1.inOut"},1.54).to(U.group.rotation,{x:-.13,z:.03,duration:.11,yoyo:!0,repeat:1,ease:"sine.inOut"},1.56).to(X,{explosion:1,duration:.88,ease:"power4.out"},1.8).to(X,{flash:1,duration:.08,ease:"power3.out"},1.8).to(X,{flash:0,duration:.45,ease:"power2.out"},1.88).to(U.group.scale,{x:1.55,y:1.55,z:1.55,duration:.2,ease:"power2.out"},1.8).to(U.group.scale,{x:.001,y:.001,z:.001,duration:.36,ease:"power3.in"},2.02).to(X,{monolithGlow:0,duration:.6},1.98).to(X,{logoParticleOpacity:1,duration:.12,ease:"power2.out"},1.82).to(X,{logoParticleOpacity:.8,duration:1.45,ease:"power2.out"},2.06).add(()=>{H.visible=!0},2.18).add(()=>{U.group.visible=!1},2.24).to(X,{logoProgress:1,logoPlaneOpacity:.78,duration:2.45,ease:"power2.out"},2.15).to(X,{logoParticleOpacity:.56,duration:2.1,ease:"sine.out"},2.3).to(H.scale,{x:1,y:1,z:1,duration:2.35,ease:"expo.out"},2.2).to(_.material,{opacity:.31,duration:.7,ease:"sine.out"},1.85).to(_.material,{opacity:.08,duration:2.4,ease:"sine.inOut"},2.5).to(F.position,{x:-.03,z:16.95,y:-.01,duration:2.6,ease:"power2.inOut"},2.22).to(X,{diskPulse:.2,duration:2.45,ease:"sine.out"},2.3).to(X,{logoParticleOpacity:.92,duration:.24,ease:"sine.out"},4.45).to(X,{logoParticleOpacity:.66,duration:.7,ease:"sine.out"},4.69).to(X,{travel:1.45,nearStarOpacity:.84,duration:1.25,ease:"power2.out"},4.74).to(X,{travel:1.2,duration:2.2,ease:"sine.inOut"},6.05).to(F.position,{z:17.45,duration:1.7,ease:"sine.inOut"},4.86).call(()=>{m(!0)},[],4.78),o&&c>0&&q.call(()=>E(),[],c);let V=new r.SUY,Q=()=>{var e,t,o,n;h.current=window.requestAnimationFrame(Q);let a=V.getElapsedTime(),i=Math.min(V.getDelta(),.05);I.rotation.y+=i*(.004+.019*X.travel),I.rotation.x+=i*(7e-4+.004*X.travel),O.rotation.y-=i*(.006+.043*X.travel),O.rotation.x+=i*(9e-4+.007*X.travel),_.rotation.y+=.075*i,_.rotation.x+=.024*i,_.position.y=-.06+.03*Math.sin(.6*a),O.material.opacity=X.nearStarOpacity,R.planet.rotation.y+=.012*i,R.group.position.y=16+.42*Math.sin(.12*a),R.group.position.x=-30+.55*Math.sin(.18*a)*X.travel,R.group.position.z=-118+2.2*Math.cos(.16*a)*X.travel,W.planet.rotation.y-=.02*i,W.group.position.y=-10+.36*Math.cos(.15*a),W.group.position.x=24+.44*Math.cos(.21*a)*X.travel,W.group.position.z=-90+1.8*Math.sin(.17*a)*X.travel;let l=(e,t,o,n,l,s,d,u)=>{let c=X.travel*t;if(e.points.material.opacity=l+X.travel*s,e.points.material.size=d+X.travel*u,c<=.001)return;let p=e.positions,f=p.length/3;for(let t=0;t<f;t+=1){let l=3*t,s=1+.24*Math.sin(.8*a+.017*t);p[l+2]+=i*c*s;let d=.38+.96*r.M8C.clamp((p[l+2]-e.zFar)/(e.zNear-e.zFar),0,1);p[l]+=Math.sin(.22*a+.1*t)*i*X.travel*o*d,p[l+1]+=Math.cos(.18*a+.08*t)*i*X.travel*n*d,p[l+2]>e.zNear&&(p[l]=r.M8C.randFloatSpread(2*e.spreadX),p[l+1]=r.M8C.randFloatSpread(2*e.spreadY),p[l+2]=e.zFar)}e.points.geometry.getAttribute("position").needsUpdate=!0};l(j,84,.9,.58,.02,.56,.018,.062),l(K,148,1.45,1,0,.46,.026,.11);let s=null!==(e=F.userData.__swayX)&&void 0!==e?e:0,d=null!==(t=F.userData.__swayY)&&void 0!==t?t:0,u=null!==(o=F.userData.__swayZ)&&void 0!==o?o:0,c=null!==(n=F.userData.__swayRoll)&&void 0!==n?n:0,p=(.06*Math.sin(.42*a)+.045*Math.sin(1.02*a))*X.travel,f=(.04*Math.cos(.38*a)+.03*Math.sin(.74*a))*X.travel,g=.11*X.travel*Math.sin(.34*a),w=.02*X.travel*Math.sin(.48*a);F.position.x+=p-s,F.position.y+=f-d,F.position.z+=g-u,F.rotation.z+=w-c,F.userData.__swayX=p,F.userData.__swayY=f,F.userData.__swayZ=g,F.userData.__swayRoll=w,D.uTime.value=a,D.uPulse.value=X.diskPulse+X.flash+.08*Math.sin(1.8*a),N.position.x=.85*Math.sin(.12*a)+Math.sin(.9*a)*X.travel*.4,N.position.y=.55*Math.cos(.08*a)+Math.cos(.7*a)*X.travel*.26,N.rotation.z+=i*(.018+.06*X.travel),U.coreMesh.rotation.y+=i*(.34+.5*X.monolithGlow),U.coreMesh.rotation.x+=.12*i,U.shellMesh.rotation.y-=.22*i,U.shellMesh.rotation.x+=.08*i,U.coreMaterial.emissiveIntensity=.012+.09*X.monolithGlow,U.coreMaterial.opacity=r.M8C.clamp(1-1.3*X.explosion,0,1),U.shellMaterial.emissiveIntensity=.05+.11*X.monolithGlow,U.shellMaterial.opacity=r.M8C.clamp((.17+.2*X.monolithGlow)*(1-1.2*X.explosion),0,1),U.shardMaterial.opacity=0,U.auraLight.intensity=.02+1.2*X.monolithGlow,$.points.material.opacity=X.logoParticleOpacity,J.opacity=X.logoPlaneOpacity*(.92+.06*Math.sin(1.55*a)),X.logoProgress>.985?(H.position.x=.04*Math.sin(.82*a),H.position.y=-.1+.028*Math.cos(1.06*a),H.rotation.z=.013*Math.sin(.76*a)+.004*Math.sin(1.93*a),H.scale.setScalar(1+.012*Math.sin(1.24*a))):(H.position.x=0,H.position.y=-.1,H.rotation.z=0),function(e,t,o,n){let a=1-Math.pow(1-r.M8C.clamp(o,0,1),3),i=r.M8C.clamp(n,0,1),l=i*i*(3-2*i),s=e.positions.length/3;for(let o=0;o<s;o+=1){let n=3*o,i=e.starts[n]+e.burstDir[n]*e.burstMag[o]*a,s=e.starts[n+1]+e.burstDir[n+1]*e.burstMag[o]*a,d=e.starts[n+2]+e.burstDir[n+2]*e.burstMag[o]*a,u=(1-l)*(.08+.16*a),c=Math.sin(2.3*t+.013*o)*u,p=Math.cos(2*t+.011*o)*u,f=.46*u*Math.sin(1.7*t+.017*o),h=.002+.014*l,g=Math.sin(1.3*t+.021*o)*h,w=Math.cos(1.15*t+.019*o)*h,m=.8*h*Math.sin(1.05*t+.017*o);e.positions[n]=r.M8C.lerp(i,e.targets[n],l)+c+g,e.positions[n+1]=r.M8C.lerp(s,e.targets[n+1],l)+p+w,e.positions[n+2]=r.M8C.lerp(d,e.targets[n+2],l)+f+m}e.points.geometry.getAttribute("position").needsUpdate=!0}($,a,X.explosion,X.logoProgress),z.intensity=.56+.05*Math.sin(1.5*a)+.95*X.flash,B.intensity=.64+.06*Math.cos(1.2*a)+.88*X.flash,L.strength=.3+.11*X.logoProgress+.68*X.flash+.08*X.travel,G.render()};Q();let ee=()=>{let o=Math.max(1,t.clientWidth||window.innerWidth||1),n=Math.max(1,t.clientHeight||window.innerHeight||1);F.aspect=o/n,F.updateProjectionMatrix(),e.setSize(o,n),G.setSize(o,n),L.setSize(o,n)};return window.addEventListener("resize",ee),window.__introCinematic={theme:"1key-monolith-cinematic-v1:".concat(n),durationSec:c,autoAdvance:o,branding:"1KEY",tech:["three","gsap","effect-composer","bloom","custom-shaders"],notes:"key-and-ring-removed"},console.info("[Intro] 1KEY monolith cinematic loaded"),()=>{window.removeEventListener("resize",ee),q.kill(),null!==h.current&&window.cancelAnimationFrame(h.current),P(I),P(O),P(_),P(N),P(j.points),P(K.points),P(R.group),P(W.group),P(U.group),P(H),P($.points),Z.dispose(),G.dispose(),e.dispose(),e.domElement.parentElement===t&&t.removeChild(e.domElement)}},[o,E,c]),(0,a.useEffect)(()=>{let e=e=>{e.persisted&&(g.current=!1)};return window.addEventListener("pageshow",e),()=>{window.removeEventListener("pageshow",e)}},[]),(0,a.useEffect)(()=>{let e=f.current;if(e){if(i.ZP.killTweensOf(e),w){i.ZP.fromTo(e,{autoAlpha:0,y:18,scale:.86,filter:"blur(6px)"},{autoAlpha:1,y:0,scale:1,filter:"blur(0px)",duration:.75,ease:"power3.out"});return}i.ZP.set(e,{autoAlpha:0,y:18,scale:.86,filter:"blur(6px)"})}},[w]),(0,a.useEffect)(()=>{if(!w)return;let e=e=>{("Enter"===e.key||" "===e.key)&&(e.preventDefault(),E())};return window.addEventListener("keydown",e),()=>{window.removeEventListener("keydown",e)}},[w,E]),(0,n.jsxs)("div",{className:"relative h-screen w-full overflow-hidden",style:{backgroundColor:b.sceneBg},children:[(0,n.jsx)("div",{ref:p,className:"absolute inset-0"}),(0,n.jsx)("div",{className:"pointer-events-none absolute inset-0 flex items-end justify-center pb-14",children:(0,n.jsx)("button",{ref:f,type:"button",disabled:!w,onClick:E,className:"rounded-full px-9 py-3 text-[13px] font-semibold tracking-[0.24em] ring-1 backdrop-blur-md transition-all duration-200 hover:-translate-y-[1px] active:translate-y-[1px]",onMouseEnter:e=>{e.currentTarget.style.boxShadow="0 0 36px ".concat(b.buttonGlow,", 0 0 72px ").concat(b.buttonGlow)},onMouseLeave:e=>{e.currentTarget.style.boxShadow="0 0 22px ".concat(b.buttonGlow)},onFocus:e=>{e.currentTarget.style.boxShadow="0 0 36px ".concat(b.buttonGlow,", 0 0 72px ").concat(b.buttonGlow)},onBlur:e=>{e.currentTarget.style.boxShadow="0 0 22px ".concat(b.buttonGlow)},style:{pointerEvents:w?"auto":"none",border:"1px solid ".concat(b.buttonBorder),color:b.buttonText,background:b.buttonBg,boxShadow:"0 0 22px ".concat(b.buttonGlow),"--tw-ring-color":b.buttonBorder},children:(0,n.jsx)("span",{className:"inline-block translate-x-[2px]",children:"ENTER"})})})]})}function F(){let e=(0,a.useCallback)(()=>{let e=window.location.href,t=e.endsWith("/")?e:"".concat(e,"/");window.location.assign(new URL("home/",t).toString())},[]);return(0,n.jsx)(C,{onComplete:e})}}},function(e){e.O(0,[689,870,922,954,971,117,744],function(){return e(e.s=6922)}),_N_E=e.O()}]);